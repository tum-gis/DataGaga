<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="file" id="file-input"/>

<script>
    // Delimiter must be semicolon

    /*  Example:
    |   ID  |   Attr1   |   Attr2   |   Attr3   |
    |   id  |   value1  |   value2  |   value3  |

    Shall be transformed to
    |   ID  |   Attr    |   Value   |
    |   id  |   attr1   |   value1  |
    |   id  |   attr2   |   value2  |
    |   id  |   attr3   |   value3  |
    */

    function transformTable(e) {
        var outputText = "GMLID;Attribute;Value\n";

        var file = e.target.files[0];
        if (!file) {
            return;
        }
        var reader = new FileReader();
        reader.onload = function (e) {
            var contents = e.target.result;

            // Process line-by-line
            var lines = contents.split('\n');

            var header = lines[0].trim().split(";");

            for(var iLine = 1; iLine < lines.length; iLine++){
                var line = lines[iLine];
                var columns = line.split(";");
                for(var iColumn = 1; iColumn < columns.length; iColumn++){
                    outputText += columns[0] + ";";
                    var column = columns[iColumn];
                    outputText += header[iColumn] + ";" + column + "\n";
                }
            }

            var file = new File([outputText], "Transformed.csv", {type: "text/plain;charset=utf-8"});
            var blobUrl = (URL || webkitURL).createObjectURL(file);
            window.location = blobUrl;
        };
        reader.readAsText(file);
    }

    document.getElementById('file-input')
        .addEventListener('change', transformTable, false);

</script>
</body>
</html>